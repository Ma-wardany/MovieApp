<!-- home.html -->
<div class="hero-section text-center mb-5">
  <h1>Welcome to our movie app</h1>
<div class="search-box mt-3 d-flex justify-content-center">
  <input
    type="text"
    [(ngModel)]="query"
    placeholder="Search and explore..."
    class="form-control w-50"
    (keyup.enter)="OnSearch()"
  />
  <button class="btn btn-warning ms-2" (click)="OnSearch()">Search</button>
</div>

</div>

<div class="container">
  <!-- Responsive Grid: 1 card on xs, up to 5 on xl -->
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 row-cols-xl-5 g-4">
    <div class="col" *ngFor="let movie of getCurrentMovies()">
      <app-movie-card [movie]="movie"></app-movie-card>
    </div>
  </div>

  <!-- Pagination Section -->
  <nav class="mt-5 d-flex justify-content-center" *ngIf="totalPages > 1">
    <ul class="pagination">
      <!-- Prev -->
      <li class="page-item" [class.disabled]="currentPage === 1">
        <button class="page-link" (click)="previousPage()" [disabled]="currentPage === 1">‹</button>
      </li>

      <!-- First Page -->
      <li class="page-item" *ngIf="getDisplayedPages()[0] > 1">
        <button class="page-link" (click)="goToPage(1)">1</button>
      </li>

      <!-- Leading Ellipsis -->
      <li class="page-item disabled" *ngIf="getDisplayedPages()[0] > 2">
        <span class="page-link">...</span>
      </li>

      <!-- Page Numbers -->
      <li
        class="page-item"
        *ngFor="let page of getDisplayedPages()"
        [class.active]="page === currentPage"
      >
        <button class="page-link" (click)="goToPage(page)">{{ page }}</button>
      </li>

      <!-- Trailing Ellipsis -->
      <li class="page-item disabled" *ngIf="getDisplayedPages().slice(-1)[0] < totalPages - 1">
        <span class="page-link">...</span>
      </li>

      <!-- Last Page -->
      <li class="page-item" *ngIf="getDisplayedPages().slice(-1)[0] < totalPages">
        <button class="page-link" (click)="goToPage(totalPages)">{{ totalPages }}</button>
      </li>

      <!-- Next -->
      <li class="page-item" [class.disabled]="currentPage === totalPages">
        <button class="page-link" (click)="nextPage()" [disabled]="currentPage === totalPages">›</button>
      </li>
    </ul>
  </nav>
</div>
